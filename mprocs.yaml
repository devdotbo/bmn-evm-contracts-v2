# Bridge Me Not V2 - Multi-Chain Development Environment
# Runs Base and Etherlink chains with development tools

procs:
  # === Chain Processes ===
  base:
    shell: bash scripts/anvil-base.sh
    label: BASE
    color: blue
    restart: on-failure
    stop: "SIGTERM"
    autostart: true
    env:
      CHAIN_NAME: "Base (Chain ID: 8453)"
    
  etherlink:
    shell: bash scripts/anvil-etherlink.sh  
    label: ETHERLINK
    color: green
    restart: on-failure
    stop: "SIGTERM"
    autostart: true
    env:
      CHAIN_NAME: "Etherlink (Chain ID: 42793)"
  
  # === Deployment & Setup ===
  deploy:
    shell: ./scripts/deploy.sh -y
    label: DEPLOY
    color: yellow
    autostart: false
    stop: "SIGTERM"
  
  fund-accounts:
    shell: ./scripts/fund-accounts.sh
    label: FUND
    color: cyan
    autostart: false
    stop: "SIGTERM"
  
  # === Monitoring ===
  status:
    shell: ./scripts/status.sh
    label: STATUS
    color: magenta
    autostart: false
    stop: "SIGTERM"
  
  watch-status:
    shell: ./scripts/watch-status.sh
    label: WATCH
    color: white
    autostart: false
    stop: "SIGTERM"
  
  # === Testing ===
  test-atomic-swap:
    shell: ./scripts/test-atomic-swap.sh
    label: TEST-SWAP
    color: bright-green
    autostart: false
    stop: "SIGTERM"
  
  test-atomic-swap-verbose:
    shell: VERBOSE=true ./scripts/test-atomic-swap.sh
    label: TEST-VERBOSE
    color: bright-yellow
    autostart: false
    stop: "SIGTERM"
  
  test-deno:
    shell: ./scripts/test-runner.sh
    label: TEST-DENO
    color: bright-cyan
    autostart: false
    stop: "SIGTERM"
    env:
      LOG_LEVEL: info
  
  # === Utilities ===
  cleanup:
    shell: ./scripts/cleanup.sh -y
    label: CLEANUP
    color: red
    autostart: false
    stop: "SIGTERM"

# Configuration for better development experience
scrollback: 5000
proc_list_width: 20
mouse_scroll_speed: 5

# Custom keybindings
keymap_procs:
  <C-q>: { c: quit }
  <C-s>: { c: start-proc }
  <C-x>: { c: term-proc }
  <C-r>: { c: restart-proc }